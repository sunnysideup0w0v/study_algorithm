# 최대 유량 문제

## 문제 정의

Network Flow 문제 혹은 Maximum Flow 문제라고도 부른다.
각 정점은 간선으로 연결되어 있고, 시작 정점을 source, 도착 정점을 sink라고 한다.

최대 유량 문제는 source부터 sink까지 도달되는 간선의 최대합을 구하는 문제이다.

## 예시

한 상수관에 최대로 흐를 수 있는 물의 양을 capacity, 현재 상수관에 흐르고 있는 물의 양을 flow(유량), 상수관에 추가로 흐를 수 있는 물의 양을 residual capacity(capacity - flow)라고 할 때, A 도시에서 시작해서 B 도시까지 흘려보낼 수 있는 유량의 최대값을 구하여라.

## 문제 풀이

### 접근 알고리즘

최대 유량 문제는 1. 포드 폴커슨(Ford-Fulkerson) 알고리즘, 2. 에드몬드 카프(Edmonds-Karp) 알고리즘을 통해 해결할 수 있다.
두 알고리즘 모두 탐욕 알고리즘의 변형 알고리즘이지만 포드 폴커슨은 DFS 경로 탐색을, 에드몬드 카프는 BFS 경로 탐색을 진행하며 문제를 해결한다.
포드 풀커슨 알고리즘의 역방향 상수관을 이용하면 첫 경로를 잘못 선택했더라도 필연적으로 최대 유량을 구할 수 있다.

**포드-폴커슨 알고리즘을 통한 문제 풀이**

1. source에서 sink로 가는 경로 하나를 깊이 우선 탐색으로 찾는다(=증가 경로).
2. 증가 경로에 흐를 수 있는 최대 유량을 찾는다.
   => 이 때 보낼 수 있는 최대 유량은 증가 경로에 있는 상수관에서 가장 적게 남은 잔여 용량 만큼임
3. 찾은 증가 경로에서 보낼 수 있는 최대 유량을 흘려보냄.
   => 이 때 역방향 상수관을 만들어 문제 해결을 진행한다.
4. 1부터 3까지의 단계를 증가 경로를 찾을 수 없을 때까지 반복하여 문제의 풀이를 얻는다.
